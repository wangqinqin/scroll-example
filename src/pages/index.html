<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>滚动example</title>
    <link rel="stylesheet" href="../dist/css/index.css">
    <style>
        body,html{
           height: 100%;
        }
        body{
            position: relative;
        }
        .part1_video{
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
            position: absolute;
            top:0;
            left: 0;
        }
        video{
            position: absolute;
            right: 0;
            bottom: 0;
            min-width: 100%;
            min-height: 100%;
        }
        video.video1_jg{
            z-index:-1;
        }
        video.video2_yh{
            z-index:-2;
        }
        source{
            min-width: 100%;
            min-height: 100%;
            height: auto;
            width: auto;
        }
    </style>
</head>
<body>
    <div class="section1">
        <div class="scroll-wrap">
            <div class="top-scroll" id="topScroll" style="width: 100%"></div>
        </div>
    </div>
    <!--<div class="section2">-->
        <!--<img src="../dist/img/pic1.jpg" id="image2">-->
        <!--<img src="../dist/img/pic2.jpg" id="image1" id="video">-->
    <!--</div>-->

    <div class="part1_video">
        <video preload="auto" loop autoplay class="video2_yh">
            <source type="video/mp4" src="../dist/img/scene1.mp4">
        </video>
        <video preload="auto" loop autoplay class="video1_jg" id="video">
            <source type="video/mp4" src="../dist/img/scene.mp4">
        </video>
    </div>

    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
    <script src="../dist/js/data.js"></script>
    <script src="../dist/js/topScroll.js"></script>
<script>
    var video = document.getElementById("image1");
//    //监听视频播放时
//    video.addEventListener('canplaythrough', function() {
//        setTimeout(function () {
//            $('#imgVideo').css('opacity','0');
//        },50)
//    }, false);

    var window_width = document.documentElement.clientWidth;
    if(window_width<1200){
        window_width = 1200;
    }
    $('.part1_video').css({width:window_width+'px'});
    $('.video2_yh').css({right:-window_width+'px'});
    if($(window).outerHeight() <=600){
        $('.mousewheel').css('display','none');
    }else{
        $('.mousewheel').css('display','block');
    }

    var videoIndex=1;
    setInterval(function () {
        if(videoIndex==1){
            $('.video2_yh').animate({right:0},1000,'swing',function () {
                $('.video1_jg')[0].play();
                $('.video2_yh')[0].play();
                $('.video2_yh').css({zIndex:-1});
            });
            $('.video1_jg').animate({right:window_width+'px'},1000,'swing',function () {
                $('.video1_jg').css({right:-window_width+'px',zIndex:-2})
            });
            videoIndex=videoIndex-1;
        }else{
            $('.video1_jg').animate({right:0},1000,'swing',function () {
                $('.video1_jg')[0].play();
                $('.video2_yh')[0].play();
                $('.video1_jg').css({zIndex:-1});
            });
            $('.video2_yh').animate({right:window_width+'px'},1000,'swing',function () {
                $('.video2_yh').css({right:-window_width+'px',zIndex:-2})
            });
            videoIndex=videoIndex+1;
        }
    },15000);

</script>
</body>
</html>